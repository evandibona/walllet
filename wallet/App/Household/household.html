<ng-include src="'App/Navbar/navbar.html'">
</ng-include>
<div class="container body-content"
     ng-init="appMain.isLanding = false"
     ng-controller="Household as main">

    <div class="pure-g">
        <div class="pure-u-1 pure-u-md-1-2">
            <div class="tile tile-wisteria">
                <h1> Member Stuff </h1>
            </div>
        </div> 
        <div class="pure-u-1 pure-u-md-1-2">
            <div class="tile tile-carrot">
                <h1> Household Head Stuff </h1>
            </div>
        </div> 
    </div> 
    <div class="pure-g">
        <div class="pure-u-1 pure-u-md-1-4">
            <div id="real-balance" class="tile widget widget-purple">
                <span class="widget-value"> {{main.assignedHouse}} </span>
                <span class="widget-s">My Current Household</span>
            </div>
        </div>
        <div class="pure-u-md-1-4">
            <div id="received-invitations" class="tile tile-wisteria">
                <h3> Received Invitations </h3>
                <ul class="stacked-list received-invitation-list">
                    <li class="invitation-item" ng-repeat="invite in main.receivedInvites">
                        <div class="pure-g">
                            <div class="pure-u-1-2">
                                <p> {{invite.Username}} &bull; <i> {{invite.Name}} </i> </p>
                            </div>
                            <div class="pure-u-1-4">
                                <input type="submit" class="pure-button button-red pure-button-1"  
                                       value="Decline" ng-click="main.respondToInvite(invite.Id, 0)" />
                            </div>
                            <div class="pure-u-1-4">
                                <input type="submit" class="pure-button button-blue pure-button-1" 
                                       value="Accept" ng-click="main.respondToInvite(invite.Id, 1)" />
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="pure-u-1 pure-u-md-1-4">
            <div id="my-household" class="tile tile-carrot">
                <h3> Edit Household </h3>
                <form class="pure-form pure-form-stacked tile-form"
                      ng-submit="main.declareHouse()">
                    <fieldset>
                        <label for="house-name">Name</label>
                        <input id="house-name" type="text" ng-model="main.declaredHouse"/>

                        <input type="submit" class="pure-button button-carrot" />
                    </fieldset>
                </form>
            </div>
            <div class="tile tile-carrot">
                <h3> Household Members </h3>
                <ul class="stacked-list sent-invitation-list">
                    <li class="invitation-item" ng-repeat="invite in main.myMembers">
                        <p> {{invite.Name }} &bull; {{invite.Username}} </p>
                    </li>
                </ul>
            </div>
        </div>
        <div class="pure-u-1 pure-u-md-1-4">
            <div class="tile tile-carrot">
                <h3> Create An Invitation </h3>
                <form class="pure-form pure-form-stacked tile-form"
                      ng-submit="main.sendInvite()">
                    <fieldset>
                        <label for="user-search">Username</label>

                        <typeahead id="user-search" ta-data="main.listUsers" ta-model="main.newInvite" />
                        
                        <input type="submit" class="pure-button pure-button-primary" value="Send Invite">
                    </fieldset>
                </form>
            </div> 
            <div id="sent-invitations" class="tile tile-carrot">
                <h3> Sent Invitations </h3>
                <ul class="stacked-list sent-invitation-list">
                    <li class="invitation-item" ng-repeat="invite in main.sentInvites">
                        <div class="pure-g">
                            <div class="pure-u-2-3">
                                <p> {{invite.Username}} &bull; <i> {{invite.Name}} </i> </p>
                            </div>
                            <div class="pure-u-1-3">
                                <input type="submit" class="pure-button button-red pure-button-1" 
                                       value="Delete" ng-click="main.deleteInvite(invite.Id)"/>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
